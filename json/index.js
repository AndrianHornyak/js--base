const x = {"products":[{"id":972670,"key":"vivoactivehr","name":"Vivoactive HR","full_name":"Garmin Vivoactive HR","name_prefix":"Фитнес-браслет","extended_name":"Garmin Vivoactive HR","status":"active","images":{"header":"\/\/content2.onliner.by\/catalog\/device\/header\/ce6851ba5f686b89ed084fce7666cc51.jpeg","icon":null},"description":"фитнес-браслет, поддержка Android\/iOS, экран TFT 0.86&quot; (148x205, сенсорный), шагомер, пульсометр, время работы: 1&nbsp;неделя 1&nbsp;сутки","html_url":"https:\/\/catalog.onliner.by\/smartwatch\/garmin\/vivoactivehr","reviews":{"rating":35,"count":8,"html_url":"https:\/\/catalog.onliner.by\/smartwatch\/garmin\/vivoactivehr\/reviews","url":"https:\/\/catalog.api.onliner.by\/products\/vivoactivehr\/reviews"},"review_url":null,"url":"https:\/\/catalog.api.onliner.by\/products\/vivoactivehr","prices":{"min":3990000,"price_min":{"amount":"399.00","currency":"BYN","converted":{"BYN":{"amount":"399.00","currency":"BYN"},"BYR":{"amount":"3990000","currency":"BYR"}}},"max":3990000,"price_max":{"amount":"399.00","currency":"BYN","converted":{"BYN":{"amount":"399.00","currency":"BYN"},"BYR":{"amount":"3990000","currency":"BYR"}}},"currency_sign":"руб.","towns":{"minsk":{"count":1}},"offers":{"count":1},"html_url":"https:\/\/catalog.onliner.by\/smartwatch\/garmin\/vivoactivehr\/prices","url":"https:\/\/shop.api.onliner.by\/products\/vivoactivehr\/positions"},"second":{"offers_count":0,"min_price":null},"is_tender_enabled":false,"tender_disability_reason":"Не участвует в тендерах"},{"id":1373644,"key":"xmiband3ww","name":"Mi Band 3 международная версия (черный)","full_name":"Xiaomi Mi Band 3 международная версия (черный)","name_prefix":"Фитнес-браслет","extended_name":"Xiaomi Mi Band 3 международная версия (черный)","status":"active","images":{"header":"\/\/content2.onliner.by\/catalog\/device\/header\/9cd1e657a21739efab75b3947637c13a.jpeg","icon":null},"description":"фитнес-браслет, поддержка Android\/iOS, экран OLED 0.79&quot; (128x80, сенсорный), шагомер, пульсометр, время работы: 2&nbsp;недели 6&nbsp;суток","html_url":"https:\/\/catalog.onliner.by\/smartwatch\/xiaomi\/xmiband3ww","reviews":{"rating":45,"count":87,"html_url":"https:\/\/catalog.onliner.by\/smartwatch\/xiaomi\/xmiband3ww\/reviews","url":"https:\/\/catalog.api.onliner.by\/products\/xmiband3ww\/reviews"},"review_url":null,"url":"https:\/\/catalog.api.onliner.by\/products\/xmiband3ww","prices":{"min":750000,"price_min":{"amount":"75.00","currency":"BYN","converted":{"BYN":{"amount":"75.00","currency":"BYN"},"BYR":{"amount":"750000","currency":"BYR"}}},"max":850000,"price_max":{"amount":"85.00","currency":"BYN","converted":{"BYN":{"amount":"85.00","currency":"BYN"},"BYR":{"amount":"850000","currency":"BYR"}}},"currency_sign":"руб.","towns":{"minsk":{"count":24}},"offers":{"count":24},"html_url":"https:\/\/catalog.onliner.by\/smartwatch\/xiaomi\/xmiband3ww\/prices","url":"https:\/\/shop.api.onliner.by\/products\/xmiband3ww\/positions"},"second":{"offers_count":2,"min_price":{"amount":"46.00","currency":"BYN"}},"is_tender_enabled":false,"tender_disability_reason":"Не участвует в тендерах"},{"id":1355297,"key":"ss050053000","name":"3 Fitness (золотистый\/белый)","full_name":"Suunto 3 Fitness (золотистый\/белый)","name_prefix":"Умные часы","extended_name":"Suunto 3 Fitness (золотистый\/белый)","status":"active","images":{"header":"\/\/content2.onliner.by\/catalog\/device\/header\/4f3e6739132b0238ecdde416ace843cc.jpeg","icon":null},"description":"фитнес-часы, поддержка Android\/iOS, шагомер, пульсометр, время работы: 1&nbsp;неделя 3&nbsp;суток","html_url":"https:\/\/catalog.onliner.by\/smartwatch\/suunto\/ss050053000","reviews":{"rating":0,"count":0,"html_url":"https:\/\/catalog.onliner.by\/smartwatch\/suunto\/ss050053000\/reviews","url":"https:\/\/catalog.api.onliner.by\/products\/ss050053000\/reviews"},"review_url":null,"url":"https:\/\/catalog.api.onliner.by\/products\/ss050053000","prices":{"min":5990000,"price_min":{"amount":"599.00","currency":"BYN","converted":{"BYN":{"amount":"599.00","currency":"BYN"},"BYR":{"amount":"5990000","currency":"BYR"}}},"max":5990000,"price_max":{"amount":"599.00","currency":"BYN","converted":{"BYN":{"amount":"599.00","currency":"BYN"},"BYR":{"amount":"5990000","currency":"BYR"}}},"currency_sign":"руб.","towns":{"minsk":{"count":1}},"offers":{"count":1},"html_url":"https:\/\/catalog.onliner.by\/smartwatch\/suunto\/ss050053000\/prices","url":"https:\/\/shop.api.onliner.by\/products\/ss050053000\/positions"},"second":{"offers_count":0,"min_price":null},"is_tender_enabled":false,"tender_disability_reason":"Не участвует в тендерах"},{"id":1381042,"key":"smr800nzsaser","name":"Galaxy Watch 46мм (серебристая сталь)","full_name":"Samsung Galaxy Watch 46мм (серебристая сталь)","name_prefix":"Умные часы","extended_name":"Samsung Galaxy Watch 46мм (серебристая сталь)","status":"active","images":{"header":"\/\/content2.onliner.by\/catalog\/device\/header\/6a00926cf9b9366f1a27bfe626880fc0.jpeg","icon":null},"description":"часы-компаньон, поддержка Android\/iOS, экран AMOLED 1.3&quot; (360x360, сенсорный), шагомер, пульсометр, время работы: 1&nbsp;неделя","html_url":"https:\/\/catalog.onliner.by\/smartwatch\/samsung\/smr800nzsaser","reviews":{"rating":45,"count":22,"html_url":"https:\/\/catalog.onliner.by\/smartwatch\/samsung\/smr800nzsaser\/reviews","url":"https:\/\/catalog.api.onliner.by\/products\/smr800nzsaser\/reviews"},"review_url":null,"url":"https:\/\/catalog.api.onliner.by\/products\/smr800nzsaser","prices":{"min":6850000,"price_min":{"amount":"685.00","currency":"BYN","converted":{"BYN":{"amount":"685.00","currency":"BYN"},"BYR":{"amount":"6850000","currency":"BYR"}}},"max":8460700,"price_max":{"amount":"846.07","currency":"BYN","converted":{"BYN":{"amount":"846.07","currency":"BYN"},"BYR":{"amount":"8460700","currency":"BYR"}}},"currency_sign":"руб.","towns":{"minsk":{"count":26}},"offers":{"count":26},"html_url":"https:\/\/catalog.onliner.by\/smartwatch\/samsung\/smr800nzsaser\/prices","url":"https:\/\/shop.api.onliner.by\/products\/smr800nzsaser\/positions"},"second":{"offers_count":2,"min_price":{"amount":"600.00","currency":"BYN"}},"is_tender_enabled":false,"tender_disability_reason":"Не участвует в тендерах"},{"id":1381231,"key":"mu6d2","name":"Watch Series 4 44 мм (алюминий серый космос\/черный)","full_name":"Apple Watch Series 4 44 мм (алюминий серый космос\/черный)","name_prefix":"Умные часы","extended_name":"Apple Watch Series 4 44 мм (алюминий серый космос\/черный)","status":"active","images":{"header":"\/\/content2.onliner.by\/catalog\/device\/header\/781f60df15f1f144cd6f899d4f3b3b9c.jpeg","icon":null},"description":"часы-компаньон, поддержка iOS, экран AMOLED 1.78&quot; (368x448, сенсорный), шагомер, пульсометр, время работы: 18&nbsp;часов","html_url":"https:\/\/catalog.onliner.by\/smartwatch\/apple\/mu6d2","reviews":{"rating":50,"count":5,"html_url":"https:\/\/catalog.onliner.by\/smartwatch\/apple\/mu6d2\/reviews","url":"https:\/\/catalog.api.onliner.by\/products\/mu6d2\/reviews"},"review_url":null,"url":"https:\/\/catalog.api.onliner.by\/products\/mu6d2","prices":{"min":10900000,"price_min":{"amount":"1090.00","currency":"BYN","converted":{"BYN":{"amount":"1090.00","currency":"BYN"},"BYR":{"amount":"10900000","currency":"BYR"}}},"max":13616900,"price_max":{"amount":"1361.69","currency":"BYN","converted":{"BYN":{"amount":"1361.69","currency":"BYN"},"BYR":{"amount":"13616900","currency":"BYR"}}},"currency_sign":"руб.","towns":{"minsk":{"count":17}},"offers":{"count":17},"html_url":"https:\/\/catalog.onliner.by\/smartwatch\/apple\/mu6d2\/prices","url":"https:\/\/shop.api.onliner.by\/products\/mu6d2\/positions"},"second":{"offers_count":1,"min_price":{"amount":"1000.00","currency":"BYN"}},"is_tender_enabled":false,"tender_disability_reason":"Не участвует в тендерах"},{"id":902341,"key":"xmiband2","name":"Mi Band 2","full_name":"Xiaomi Mi Band 2","name_prefix":"Фитнес-браслет","extended_name":"Xiaomi Mi Band 2","status":"active","images":{"header":"\/\/content2.onliner.by\/catalog\/device\/header\/7cfaa80229ff08b28fafea0f4d1137a4.jpg","icon":null},"description":"фитнес-браслет, поддержка Android\/iOS, шагомер, пульсометр","html_url":"https:\/\/catalog.onliner.by\/smartwatch\/xiaomi\/xmiband2","reviews":{"rating":40,"count":179,"html_url":"https:\/\/catalog.onliner.by\/smartwatch\/xiaomi\/xmiband2\/reviews","url":"https:\/\/catalog.api.onliner.by\/products\/xmiband2\/reviews"},"review_url":null,"url":"https:\/\/catalog.api.onliner.by\/products\/xmiband2","prices":{"min":430000,"price_min":{"amount":"43.00","currency":"BYN","converted":{"BYN":{"amount":"43.00","currency":"BYN"},"BYR":{"amount":"430000","currency":"BYR"}}},"max":699000,"price_max":{"amount":"69.90","currency":"BYN","converted":{"BYN":{"amount":"69.90","currency":"BYN"},"BYR":{"amount":"699000","currency":"BYR"}}},"currency_sign":"руб.","towns":{"minsk":{"count":25}},"offers":{"count":25},"html_url":"https:\/\/catalog.onliner.by\/smartwatch\/xiaomi\/xmiband2\/prices","url":"https:\/\/shop.api.onliner.by\/products\/xmiband2\/positions"},"second":{"offers_count":5,"min_price":{"amount":"20.00","currency":"BYN"}},"is_tender_enabled":false,"tender_disability_reason":"Не участвует в тендерах"},{"id":987996,"key":"smr760","name":"Gear S3 frontier [SM-R760]","full_name":"Samsung Gear S3 frontier [SM-R760]","name_prefix":"Умные часы","extended_name":"Samsung Gear S3 frontier [SM-R760]","status":"active","images":{"header":"\/\/content2.onliner.by\/catalog\/device\/header\/d11f775c6b4fd1c36a21977ff6522753.jpeg","icon":null},"description":"часы-компаньон, поддержка Android\/iOS, экран AMOLED 1.3&quot; (360x360, сенсорный), шагомер, пульсометр, время работы: 3&nbsp;суток","html_url":"https:\/\/catalog.onliner.by\/smartwatch\/samsung\/smr760","reviews":{"rating":45,"count":42,"html_url":"https:\/\/catalog.onliner.by\/smartwatch\/samsung\/smr760\/reviews","url":"https:\/\/catalog.api.onliner.by\/products\/smr760\/reviews"},"review_url":"https:\/\/tech.onliner.by\/2016\/11\/23\/smart-watch-2","url":"https:\/\/catalog.api.onliner.by\/products\/smr760","prices":{"min":5350000,"price_min":{"amount":"535.00","currency":"BYN","converted":{"BYN":{"amount":"535.00","currency":"BYN"},"BYR":{"amount":"5350000","currency":"BYR"}}},"max":9325700,"price_max":{"amount":"932.57","currency":"BYN","converted":{"BYN":{"amount":"932.57","currency":"BYN"},"BYR":{"amount":"9325700","currency":"BYR"}}},"currency_sign":"руб.","towns":{"minsk":{"count":25}},"offers":{"count":25},"html_url":"https:\/\/catalog.onliner.by\/smartwatch\/samsung\/smr760\/prices","url":"https:\/\/shop.api.onliner.by\/products\/smr760\/positions"},"second":{"offers_count":7,"min_price":{"amount":"350.00","currency":"BYN"}},"is_tender_enabled":false,"tender_disability_reason":"Не участвует в тендерах"},{"id":1173714,"key":"amazfitbipblk","name":"Bip (черный)","full_name":"Amazfit Bip (черный)","name_prefix":"Умные часы","extended_name":"Amazfit Bip (черный)","status":"active","images":{"header":"\/\/content2.onliner.by\/catalog\/device\/header\/60eb2a10ee02f9487f215791379ea14e.jpeg","icon":null},"description":"фитнес-часы, поддержка Android\/iOS, шагомер, пульсометр, время работы: 16&nbsp;недель","html_url":"https:\/\/catalog.onliner.by\/smartwatch\/huami\/amazfitbipblk","reviews":{"rating":45,"count":66,"html_url":"https:\/\/catalog.onliner.by\/smartwatch\/huami\/amazfitbipblk\/reviews","url":"https:\/\/catalog.api.onliner.by\/products\/amazfitbipblk\/reviews"},"review_url":null,"url":"https:\/\/catalog.api.onliner.by\/products\/amazfitbipblk","prices":{"min":1450000,"price_min":{"amount":"145.00","currency":"BYN","converted":{"BYN":{"amount":"145.00","currency":"BYN"},"BYR":{"amount":"1450000","currency":"BYR"}}},"max":1990000,"price_max":{"amount":"199.00","currency":"BYN","converted":{"BYN":{"amount":"199.00","currency":"BYN"},"BYR":{"amount":"1990000","currency":"BYR"}}},"currency_sign":"руб.","towns":{"minsk":{"count":29}},"offers":{"count":29},"html_url":"https:\/\/catalog.onliner.by\/smartwatch\/huami\/amazfitbipblk\/prices","url":"https:\/\/shop.api.onliner.by\/products\/amazfitbipblk\/positions"},"second":{"offers_count":1,"min_price":{"amount":"135.00","currency":"BYN"}},"is_tender_enabled":false,"tender_disability_reason":"Не участвует в тендерах"},{"id":1432104,"key":"band4black","name":"Band 4 (черный)","full_name":"Honor Band 4 (черный)","name_prefix":"Фитнес-браслет","extended_name":"Honor Band 4 (черный)","status":"active","images":{"header":"\/\/content2.onliner.by\/catalog\/device\/header\/84e91e6c932b395d4f91c85327480450.jpeg","icon":null},"description":"фитнес-браслет, поддержка Android\/iOS, экран AMOLED 0.95&quot; (120x240, сенсорный), шагомер, пульсометр, время работы: 2&nbsp;недели","html_url":"https:\/\/catalog.onliner.by\/smartwatch\/honor\/band4black","reviews":{"rating":45,"count":6,"html_url":"https:\/\/catalog.onliner.by\/smartwatch\/honor\/band4black\/reviews","url":"https:\/\/catalog.api.onliner.by\/products\/band4black\/reviews"},"review_url":null,"url":"https:\/\/catalog.api.onliner.by\/products\/band4black","prices":{"min":1390000,"price_min":{"amount":"139.00","currency":"BYN","converted":{"BYN":{"amount":"139.00","currency":"BYN"},"BYR":{"amount":"1390000","currency":"BYR"}}},"max":1890000,"price_max":{"amount":"189.00","currency":"BYN","converted":{"BYN":{"amount":"189.00","currency":"BYN"},"BYR":{"amount":"1890000","currency":"BYR"}}},"currency_sign":"руб.","towns":{"minsk":{"count":3}},"offers":{"count":3},"html_url":"https:\/\/catalog.onliner.by\/smartwatch\/honor\/band4black\/prices","url":"https:\/\/shop.api.onliner.by\/products\/band4black\/positions"},"second":{"offers_count":4,"min_price":{"amount":"85.00","currency":"BYN"}},"is_tender_enabled":false,"tender_disability_reason":"Не участвует в тендерах"},{"id":1380726,"key":"smr810nzkaser","name":"Galaxy Watch 42мм (глубокий черный)","full_name":"Samsung Galaxy Watch 42мм (глубокий черный)","name_prefix":"Умные часы","extended_name":"Samsung Galaxy Watch 42мм (глубокий черный)","status":"active","images":{"header":"\/\/content2.onliner.by\/catalog\/device\/header\/9e75e03c260716bff9407e2ae6b5655d.jpeg","icon":null},"description":"часы-компаньон, поддержка Android\/iOS, экран AMOLED 1.2&quot; (360x360, сенсорный), шагомер, пульсометр, время работы: 5&nbsp;суток","html_url":"https:\/\/catalog.onliner.by\/smartwatch\/samsung\/smr810nzkaser","reviews":{"rating":45,"count":14,"html_url":"https:\/\/catalog.onliner.by\/smartwatch\/samsung\/smr810nzkaser\/reviews","url":"https:\/\/catalog.api.onliner.by\/products\/smr810nzkaser\/reviews"},"review_url":null,"url":"https:\/\/catalog.api.onliner.by\/products\/smr810nzkaser","prices":{"min":5880000,"price_min":{"amount":"588.00","currency":"BYN","converted":{"BYN":{"amount":"588.00","currency":"BYN"},"BYR":{"amount":"5880000","currency":"BYR"}}},"max":6847300,"price_max":{"amount":"684.73","currency":"BYN","converted":{"BYN":{"amount":"684.73","currency":"BYN"},"BYR":{"amount":"6847300","currency":"BYR"}}},"currency_sign":"руб.","towns":{"minsk":{"count":22}},"offers":{"count":22},"html_url":"https:\/\/catalog.onliner.by\/smartwatch\/samsung\/smr810nzkaser\/prices","url":"https:\/\/shop.api.onliner.by\/products\/smr810nzkaser\/positions"},"second":{"offers_count":2,"min_price":{"amount":"500.00","currency":"BYN"}},"is_tender_enabled":false,"tender_disability_reason":"Не участвует в тендерах"}],"total":34373,"page":{"limit":10,"items":10,"current":1,"last":3438}}

// массивы

function operationFunc(x) {
    const newProducts = x.products
        .map((element, index, array) =>{
            const price = parseInt(element.prices.price_max.amount);
            if (price > 400) {
                return {
                    index: index,
                    price: price,
                    category: price % 2 ? 'огурцы' : 'орехи',
                    name: element.name,
                    namePrice: `$ ${Math.round(price)}`
                }
            }
        }).filter(e => e);

    const totalPrice = newProducts.reduce((result, element) => result += element.price, 0);

    const map = newProducts.reduce((result, element) => {
        result[element.category] = result[element.category] || [];
        result[element.category].push(element);
        return result;
    }, {});

    // objects

    const tranformedObj = Object.keys(map).map(key =>
        ({name: key, value: map[key]}));

    let account = {
        name: 'Василий',
        details: 'Повар',
    }

    function Auth(auth) {
        return {
            token: 'askjdgjahsdgjkasd',
            role: 'админ',
        }
    }

    const creds = Auth({login: 'X'});

    account = Object.assign(account, creds, {name: null, details: null});

    return newProducts;
}

const memo = (func) => {
    let __data;
    let __x;
    return (x) => {
        if (x !== __x) {
            __data = func(x);
            __x = x;
        }

        return __data;
    }
}

const calcData = memo(operationFunc);

const oldProducts = calcData(x);
const newProducts = calcData(x);

const result = oldProducts === newProducts

Array.from()




document.addEventListener('click', (e) => x.func())


Date.now()


debugger;
